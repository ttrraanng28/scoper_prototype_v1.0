name = "scoper-backend"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Node.js compatibility for Anthropic SDK
compatibility_flags = ["nodejs_compat"]

# Production environment configuration
[env.production]
name = "scoper-backend-prod"
vars = { ENVIRONMENT = "production" }

# Development environment configuration
[env.development]
name = "scoper-backend-dev"
vars = { ENVIRONMENT = "development" }

# API key should be set using: npx wrangler secret put ANTHROPIC_API_KEY
# For production: npx wrangler secret put ANTHROPIC_API_KEY --env production
# For development: npx wrangler secret put ANTHROPIC_API_KEY --env development
# This ensures the key is stored securely and not in version control

# Deployment commands:
# Development: npx wrangler deploy --env development
# Production: npx wrangler deploy --env production